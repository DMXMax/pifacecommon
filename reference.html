

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reference &mdash; PiFace Common 1.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="PiFace Common 1.2 documentation" href="index.html" />
    <link rel="prev" title="Example" href="example.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="example.html" title="Example"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PiFace Common 1.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="reference">
<h1>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For backwards compatibility all constants, functions and classes in
pifacecommon&#8217;s sub-modules (core, interrupts, errors) have been imported into
the main namespace. <tt class="xref py py-func docutils literal"><span class="pre">pifacecommon.get_bit_num(0)()</span></tt> is the same as
<tt class="xref py py-func docutils literal"><span class="pre">pifacecommon.core.get_bit_num(0)()</span></tt>.</p>
</div>
<div class="section" id="module-pifacecommon.core">
<span id="core"></span><h2>Core<a class="headerlink" href="#module-pifacecommon.core" title="Permalink to this headline">¶</a></h2>
<p>Provides core I/O methods for interfacing with PiFace Products
Copyright (C) 2013 Thomas Preston &lt;<a class="reference external" href="mailto:thomasmarkpreston&#37;&#52;&#48;gmail&#46;com">thomasmarkpreston<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="class">
<dt id="pifacecommon.core.DigitalInputItem">
<em class="property">class </em><tt class="descclassname">pifacecommon.core.</tt><tt class="descname">DigitalInputItem</tt><big>(</big><em>pin_num</em>, <em>port</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalInputItem" title="Permalink to this definition">¶</a></dt>
<dd><p>An digital input connected to a pin a PiFace product.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This hides the fact that inputs are active low.</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">input_port</span> <span class="o">=</span> <span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">GPIOB</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">read_bit</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">input_port</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hex</span><span class="p">(</span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">DigitalInputItem</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">input_port</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</div>
<dl class="attribute">
<dt id="pifacecommon.core.DigitalInputItem.value">
<tt class="descname">value</tt><a class="headerlink" href="#pifacecommon.core.DigitalInputItem.value" title="Permalink to this definition">¶</a></dt>
<dd><p>The inverse value of the digital input item (inputs are active low).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pifacecommon.core.DigitalInputPort">
<em class="property">class </em><tt class="descclassname">pifacecommon.core.</tt><tt class="descname">DigitalInputPort</tt><big>(</big><em>port</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalInputPort" title="Permalink to this definition">¶</a></dt>
<dd><p>An digital input port on a PiFace product.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This hides the fact that inputs are active low.</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">input_port</span> <span class="o">=</span> <span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">GPIOB</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hex</span><span class="p">(</span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">input_port</span><span class="p">))</span>
<span class="go">&#39;0xFF&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hex</span><span class="p">(</span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">DigitalInputPort</span><span class="p">(</span><span class="n">input_port</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">&#39;0x00&#39;</span>
</pre></div>
</div>
</div>
<dl class="attribute">
<dt id="pifacecommon.core.DigitalInputPort.value">
<tt class="descname">value</tt><a class="headerlink" href="#pifacecommon.core.DigitalInputPort.value" title="Permalink to this definition">¶</a></dt>
<dd><p>The value of the digital input port.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pifacecommon.core.DigitalItem">
<em class="property">class </em><tt class="descclassname">pifacecommon.core.</tt><tt class="descname">DigitalItem</tt><big>(</big><em>pin_num</em>, <em>port</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalItem" title="Permalink to this definition">¶</a></dt>
<dd><p>A digital item connected to a pin on a PiFace product.
Has most of the same properties of a Digital Port.</p>
<dl class="attribute">
<dt id="pifacecommon.core.DigitalItem.value">
<tt class="descname">value</tt><a class="headerlink" href="#pifacecommon.core.DigitalItem.value" title="Permalink to this definition">¶</a></dt>
<dd><p>The value of the digital item.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pifacecommon.core.DigitalOutputItem">
<em class="property">class </em><tt class="descclassname">pifacecommon.core.</tt><tt class="descname">DigitalOutputItem</tt><big>(</big><em>pin_num</em>, <em>port</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalOutputItem" title="Permalink to this definition">¶</a></dt>
<dd><p>An output connected to a pin a PiFace Digital product.</p>
<dl class="method">
<dt id="pifacecommon.core.DigitalOutputItem.toggle">
<tt class="descname">toggle</tt><big>(</big><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalOutputItem.toggle" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles the digital output item&#8217;s value.</p>
</dd></dl>

<dl class="method">
<dt id="pifacecommon.core.DigitalOutputItem.turn_off">
<tt class="descname">turn_off</tt><big>(</big><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalOutputItem.turn_off" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the digital output item&#8217;s value to 0.</p>
</dd></dl>

<dl class="method">
<dt id="pifacecommon.core.DigitalOutputItem.turn_on">
<tt class="descname">turn_on</tt><big>(</big><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalOutputItem.turn_on" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the digital output item&#8217;s value to 1.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pifacecommon.core.DigitalOutputPort">
<em class="property">class </em><tt class="descclassname">pifacecommon.core.</tt><tt class="descname">DigitalOutputPort</tt><big>(</big><em>port</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalOutputPort" title="Permalink to this definition">¶</a></dt>
<dd><p>An digital output port on a PiFace product</p>
<dl class="method">
<dt id="pifacecommon.core.DigitalOutputPort.all_off">
<tt class="descname">all_off</tt><big>(</big><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalOutputPort.all_off" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns all outputs off.</p>
</dd></dl>

<dl class="method">
<dt id="pifacecommon.core.DigitalOutputPort.all_on">
<tt class="descname">all_on</tt><big>(</big><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalOutputPort.all_on" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns all outputs on.</p>
</dd></dl>

<dl class="method">
<dt id="pifacecommon.core.DigitalOutputPort.toggle">
<tt class="descname">toggle</tt><big>(</big><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalOutputPort.toggle" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles all outputs.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pifacecommon.core.DigitalPort">
<em class="property">class </em><tt class="descclassname">pifacecommon.core.</tt><tt class="descname">DigitalPort</tt><big>(</big><em>port</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.DigitalPort" title="Permalink to this definition">¶</a></dt>
<dd><p>A digital port on a PiFace product.</p>
<dl class="attribute">
<dt id="pifacecommon.core.DigitalPort.handler">
<tt class="descname">handler</tt><a class="headerlink" href="#pifacecommon.core.DigitalPort.handler" title="Permalink to this definition">¶</a></dt>
<dd><p>The module that handles this port (can be useful for
emulator/testing).</p>
</dd></dl>

<dl class="attribute">
<dt id="pifacecommon.core.DigitalPort.value">
<tt class="descname">value</tt><a class="headerlink" href="#pifacecommon.core.DigitalPort.value" title="Permalink to this definition">¶</a></dt>
<dd><p>The value of the digital port.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.deinit">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">deinit</tt><big>(</big><big>)</big><a class="headerlink" href="#pifacecommon.core.deinit" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the SPI device file descriptor.</p>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.get_bit_mask">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">get_bit_mask</tt><big>(</big><em>bit_num</em><big>)</big><a class="headerlink" href="#pifacecommon.core.get_bit_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates a bit num to bit mask.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bit_num</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The bit number.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">int &#8211; the bit mask</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body">RangeError</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">get_bit_mask</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">get_bit_mask</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bin</span><span class="p">(</span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">get_bit_mask</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">&#39;0b1000&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.get_bit_num">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">get_bit_num</tt><big>(</big><em>bit_pattern</em><big>)</big><a class="headerlink" href="#pifacecommon.core.get_bit_num" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the lowest bit num from a given bit pattern. Returns None if no
bits set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bit_pattern</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The bit pattern.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">int &#8211; the bit number</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None &#8211; no bits set</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">get_bit_num</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">get_bit_num</span><span class="p">(</span><span class="mi">0</span><span class="n">b1</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">get_bit_num</span><span class="p">(</span><span class="mi">0</span><span class="n">b11000</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.init">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">init</tt><big>(</big><em>bus=0</em>, <em>chip_select=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises the SPI device file descriptor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bus</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The SPI device bus number</li>
<li><strong>chip_select</strong> &#8211; The SPI device chip_select number</li>
<li><strong>chip_select</strong> &#8211; int</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last">InitError</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.read">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">read</tt><big>(</big><em>address</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the address specified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>address</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The address to read from.</li>
<li><strong>board_num</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The board number to read from.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.read_bit">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">read_bit</tt><big>(</big><em>bit_num</em>, <em>address</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.read_bit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the bit specified from the address.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bit_num</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The bit number to read from.</li>
<li><strong>address</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The address to read from.</li>
<li><strong>board_num</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The board number to read from.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">int &#8211; the bit value from the address</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.sleep_microseconds">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">sleep_microseconds</tt><big>(</big><em>microseconds</em><big>)</big><a class="headerlink" href="#pifacecommon.core.sleep_microseconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Sleeps for the given number of microseconds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>microseconds</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of microseconds to sleep for.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.spisend">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">spisend</tt><big>(</big><em>bytes_to_send</em><big>)</big><a class="headerlink" href="#pifacecommon.core.spisend" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends bytes via the SPI bus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bytes_to_send</strong> (<em>bytes</em>) &#8211; The bytes to send on the SPI device.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bytes &#8211; returned bytes from SPI device</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body">InitError</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.write">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">write</tt><big>(</big><em>data</em>, <em>address</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes data to the address specified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The data to write.</li>
<li><strong>address</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The address to write to.</li>
<li><strong>board_num</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The board number to write to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.core.write_bit">
<tt class="descclassname">pifacecommon.core.</tt><tt class="descname">write_bit</tt><big>(</big><em>value</em>, <em>bit_num</em>, <em>address</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.core.write_bit" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the value given to the bit in the address specified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The value to write.</li>
<li><strong>bit_num</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The bit number to write to.</li>
<li><strong>address</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The address to write to.</li>
<li><strong>board_num</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The board number to write to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pifacecommon.interrupts">
<span id="interrupts"></span><h2>Interrupts<a class="headerlink" href="#module-pifacecommon.interrupts" title="Permalink to this headline">¶</a></h2>
<p>Provides interrupt logic for interfacing with PiFace Products
Copyright (C) 2013 Thomas Preston &lt;<a class="reference external" href="mailto:thomasmarkpreston&#37;&#52;&#48;gmail&#46;com">thomasmarkpreston<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="class">
<dt id="pifacecommon.interrupts.InputFunctionMap">
<em class="property">class </em><tt class="descclassname">pifacecommon.interrupts.</tt><tt class="descname">InputFunctionMap</tt><a class="headerlink" href="#pifacecommon.interrupts.InputFunctionMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps inputs pins to functions.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Extends <tt class="xref py py-class docutils literal"><span class="pre">list</span></tt></p>
</div>
<p>Each callback is passed the flag bit map (1 byte) and the input port
(1 byte) state at the time of the interrupt. The return value of the
function specifies whether the wait_for_input loop should continue
(True is continue).</p>
<dl class="method">
<dt id="pifacecommon.interrupts.InputFunctionMap.register">
<tt class="descname">register</tt><big>(</big><em>input_num</em>, <em>direction</em>, <em>callback</em>, <em>board_num=0</em><big>)</big><a class="headerlink" href="#pifacecommon.interrupts.InputFunctionMap.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an input number and direction to a callback function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input_num</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The input pin number.</li>
<li><strong>direction</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The direction of change (use: IN_EVENT_DIR_ON or
IN_EVENT_DIR_OFF or IN_EVENT_DIR_BOTH)</li>
<li><strong>callback</strong> (<em>function</em>) &#8211; The function to run when interrupt is detected.
Function should return True if you want to keep waiting for
interrupts.</li>
<li><strong>board_num</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; PiFace digital board number (default: 0).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">print_flag</span><span class="p">(</span><span class="n">flag</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="bp">True</span>  <span class="c"># keep waiting</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ifm</span> <span class="o">=</span> <span class="n">pifacecommon</span><span class="o">.</span><span class="n">interrupts</span><span class="o">.</span><span class="n">InputFunctionMap</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ifm</span><span class="o">.</span><span class="n">register</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">input_num</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">direction</span><span class="o">=</span><span class="n">pifacecommon</span><span class="o">.</span><span class="n">interrupts</span><span class="o">.</span><span class="n">IN_EVENT_DIR_ON</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">callback</span><span class="o">=</span><span class="n">print_flag</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pifacecommon.interrupts.clear_interrupts">
<tt class="descclassname">pifacecommon.interrupts.</tt><tt class="descname">clear_interrupts</tt><big>(</big><em>port</em><big>)</big><a class="headerlink" href="#pifacecommon.interrupts.clear_interrupts" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the interrupt flags by &#8216;read&#8217;ing the capture register
on all boards.</p>
</dd></dl>

<dl class="function">
<dt id="pifacecommon.interrupts.wait_for_interrupt">
<tt class="descclassname">pifacecommon.interrupts.</tt><tt class="descname">wait_for_interrupt</tt><big>(</big><em>port</em>, <em>input_func_map=None</em>, <em>timeout=None</em><big>)</big><a class="headerlink" href="#pifacecommon.interrupts.wait_for_interrupt" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for an port event (change) and runs the callback function tied to
that.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The port we are waiting for interrupts on (GPIOA/GPIOB).</li>
<li><strong>input_func_map</strong> (<a class="reference internal" href="#pifacecommon.interrupts.InputFunctionMap" title="pifacecommon.interrupts.InputFunctionMap"><tt class="xref py py-class docutils literal"><span class="pre">InputFunctionMap</span></tt></a>) &#8211; An InputFunctionMap object describing callbacks.</li>
<li><strong>timeout</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; How long we should wait before giving up.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Reference</a><ul>
<li><a class="reference internal" href="#module-pifacecommon.core">Core</a></li>
<li><a class="reference internal" href="#module-pifacecommon.interrupts">Interrupts</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="example.html"
                        title="previous chapter">Example</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/reference.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="example.html" title="Example"
             >previous</a> |</li>
        <li><a href="index.html">PiFace Common 1.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Thomas Preston.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>